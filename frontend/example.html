<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MindFlow TaskCard Component Example</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
      background: #f5f5f5;
    }

    @media (prefers-color-scheme: dark) {
      body {
        background: #0a0a0a;
        color: #ffffff;
      }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      margin-bottom: 40px;
    }

    .demo-section {
      margin-bottom: 40px;
    }

    .demo-section h2 {
      margin-bottom: 20px;
      color: #007aff;
    }

    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 12px 24px;
      background: #007aff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
    }

    .theme-toggle:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>

  <div class="container">
    <h1>MindFlow TaskCard Component Examples</h1>

    <div class="demo-section">
      <h2>Priority Levels</h2>
      <div class="cards-grid">
        <div id="priority-5"></div>
        <div id="priority-4"></div>
        <div id="priority-3"></div>
        <div id="priority-2"></div>
        <div id="priority-1"></div>
      </div>
    </div>

    <div class="demo-section">
      <h2>With AI Scoring</h2>
      <div class="cards-grid">
        <div id="with-scoring"></div>
      </div>
    </div>

    <div class="demo-section">
      <h2>Different Due Dates</h2>
      <div class="cards-grid">
        <div id="due-today"></div>
        <div id="due-tomorrow"></div>
        <div id="overdue"></div>
      </div>
    </div>
  </div>

  <!-- React from CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- NOTE: In production, replace this with the actual built bundle -->
  <script type="module">
    // Import the TaskCard component
    // In a real implementation, this would be: import { TaskCard } from './dist/index.js';
    // For this demo, we'll show the example data structure

    console.log('TaskCard Component Example');
    console.log('To use the actual component, build it first with: npm run build');
    console.log('Then import from: ./dist/index.js');

    // Example task data
    const exampleTasks = {
      priority5: {
        id: "1",
        user_id: "user-123",
        title: "Critical bug fix needed",
        description: "Production issue affecting all users",
        priority: 5,
        status: "pending",
        due_date: new Date(Date.now() + 86400000).toISOString(), // Tomorrow
        tags: "bug, urgent, production",
        effort_estimate_minutes: 180,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
      priority4: {
        id: "2",
        user_id: "user-123",
        title: "Complete project documentation",
        description: "Write comprehensive docs for the new feature",
        priority: 4,
        status: "pending",
        due_date: new Date(Date.now() + 86400000 * 2).toISOString(), // 2 days
        tags: "documentation, important",
        effort_estimate_minutes: 120,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
      priority3: {
        id: "3",
        user_id: "user-123",
        title: "Review pull requests",
        description: "Review pending PRs from the team",
        priority: 3,
        status: "pending",
        due_date: new Date(Date.now() + 86400000 * 3).toISOString(), // 3 days
        tags: "code-review",
        effort_estimate_minutes: 60,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
      priority2: {
        id: "4",
        user_id: "user-123",
        title: "Update dependencies",
        description: "Update npm packages to latest versions",
        priority: 2,
        status: "pending",
        due_date: new Date(Date.now() + 86400000 * 7).toISOString(), // 1 week
        tags: "maintenance",
        effort_estimate_minutes: 30,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
      priority1: {
        id: "5",
        user_id: "user-123",
        title: "Refactor old code",
        description: "Clean up technical debt in legacy modules",
        priority: 1,
        status: "pending",
        due_date: null,
        tags: "refactoring, tech-debt",
        effort_estimate_minutes: 240,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
      withScoring: {
        id: "6",
        user_id: "user-123",
        title: "Implement new feature",
        description: "Add user authentication with OAuth",
        priority: 4,
        status: "pending",
        due_date: new Date(Date.now() + 86400000).toISOString(),
        tags: "feature, authentication",
        effort_estimate_minutes: 360,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
      dueToday: {
        id: "7",
        user_id: "user-123",
        title: "Submit monthly report",
        description: "Prepare and submit the monthly progress report",
        priority: 4,
        status: "pending",
        due_date: new Date().toISOString(),
        tags: "report, deadline",
        effort_estimate_minutes: 90,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
      dueTomorrow: {
        id: "8",
        user_id: "user-123",
        title: "Team meeting preparation",
        description: "Prepare slides and agenda for tomorrow's meeting",
        priority: 3,
        status: "pending",
        due_date: new Date(Date.now() + 86400000).toISOString(),
        tags: "meeting",
        effort_estimate_minutes: 45,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
      overdue: {
        id: "9",
        user_id: "user-123",
        title: "Follow up with client",
        description: "Send follow-up email about the proposal",
        priority: 5,
        status: "pending",
        due_date: new Date(Date.now() - 86400000 * 2).toISOString(), // 2 days ago
        tags: "client, urgent",
        effort_estimate_minutes: 15,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString(),
        completed_at: null,
        snoozed_until: null,
      },
    };

    // Example reasoning
    const exampleReasoning = {
      deadline_urgency: 7.2,
      priority_score: 40,
      effort_bonus: 15,
      total_score: 8.5,
      recommendation: "High priority task with approaching deadline. Estimated 6 hours of work. Start soon to avoid last-minute rush.",
    };

    // Log example data for reference
    console.log('Example Tasks:', exampleTasks);
    console.log('Example Reasoning:', exampleReasoning);

    // Display instructions
    document.getElementById('priority-5').innerHTML = `
      <div style="padding: 16px; background: white; border: 1px solid #e0e0e0; border-radius: 8px;">
        <h3>Priority 5 (Urgent)</h3>
        <pre style="font-size: 12px; overflow-x: auto;">${JSON.stringify(exampleTasks.priority5, null, 2)}</pre>
      </div>
    `;

    document.getElementById('with-scoring').innerHTML = `
      <div style="padding: 16px; background: white; border: 1px solid #e0e0e0; border-radius: 8px;">
        <h3>With AI Scoring</h3>
        <p>Task: <code>${exampleTasks.withScoring.title}</code></p>
        <p>Score: <code>${8.5}</code></p>
        <pre style="font-size: 12px; overflow-x: auto;">${JSON.stringify(exampleReasoning, null, 2)}</pre>
      </div>
    `;
  </script>

  <script>
    function toggleTheme() {
      // This is a simple theme toggle for demo purposes
      // In a real app, you'd use CSS media queries and user preferences
      const currentBg = document.body.style.backgroundColor;
      if (currentBg === 'rgb(10, 10, 10)' || currentBg === '#0a0a0a') {
        document.body.style.backgroundColor = '#f5f5f5';
        document.body.style.color = '#000000';
      } else {
        document.body.style.backgroundColor = '#0a0a0a';
        document.body.style.color = '#ffffff';
      }
    }
  </script>

  <div style="text-align: center; margin-top: 60px; padding: 40px; background: rgba(0,122,255,0.1); border-radius: 12px;">
    <h2>To Use This Component</h2>
    <ol style="text-align: left; max-width: 600px; margin: 20px auto;">
      <li>Build the component: <code>npm run build</code></li>
      <li>Import in your app: <code>import { TaskCard } from './dist/index.js';</code></li>
      <li>Pass task data as props: <code>&lt;TaskCard task={task} /&gt;</code></li>
      <li>Optionally add scoring: <code>&lt;TaskCard task={task} score={8.5} reasoning={reasoning} /&gt;</code></li>
    </ol>
    <p style="margin-top: 20px;">
      <strong>Documentation:</strong> See <a href="./APPS_SDK_README.md" style="color: #007aff;">APPS_SDK_README.md</a> for full API reference
    </p>
  </div>
</body>
</html>
